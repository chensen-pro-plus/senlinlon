# 与原版差异

## 概述

本项目是 [oh-my-opencode](https://github.com/code-yeongyu/oh-my-opencode) 的定制分支，目的是将其集成到 opencode monorepo 中作为内置插件。

## 架构差异

### 原版 oh-my-opencode
- 独立 npm 包，可全局安装
- 提供 CLI 命令 `omo`
- 包含平台特定二进制文件（darwin-arm64, darwin-x64, linux-x64, win32-x64）
- 作为 opencode 的外部插件使用

### senlinlon-integrated 版本
- monorepo 内部包，不独立发布
- 无 CLI，所有功能通过插件 API 暴露
- 不包含平台二进制文件（由 monorepo 统一处理）
- 作为 opencode 的内置插件注册

## 详细差异

### 1. 包配置 (package.json)

| 字段 | 原版 | senlinlon |
|------|------|-----------|
| name | `oh-my-opencode` | `@opencode-ai/oh-my-opencode-senlinlon` |
| private | 无 | `true` |
| bin | `{ "omo": "bin/run.js" }` | 无 |
| optionalDependencies | 4个平台包 | 无 |
| dependencies | npm 版本号 | `workspace:*`, `catalog:` |

### 2. 配置文件命名

| 类型 | 原版 | senlinlon |
|------|------|-----------|
| 配置文件 | `oh-my-opencode.json` | `oh-my-opencode-senlinlon.json` |
| Schema | `oh-my-opencode.schema.json` | `oh-my-opencode-senlinlon.schema.json` |
| 缓存目录 | `~/.cache/oh-my-opencode/` | `~/.cache/oh-my-opencode-senlinlon/` |
| 日志文件 | `oh-my-opencode.log` | `oh-my-opencode-senlinlon.log` |

### 3. 仓库引用

| 类型 | 原版 | senlinlon |
|------|------|-----------|
| GitHub | `code-yeongyu/oh-my-opencode` | `senlinlon/oh-my-opencode-senlinlon` |
| Issues | GitHub Issues | GitCode Issues |

### 4. 插件注册方式

**原版**（外部插件）：
```json
{
  "plugins": ["oh-my-opencode"]
}
```

**senlinlon**（内置插件）：
```typescript
import { OhMyOpenCodePlugin } from "@opencode-ai/oh-my-opencode-senlinlon"
const INTERNAL_PLUGINS = [OhMyOpenCodePlugin, ...]
```

## 功能差异

### 保留的功能
- 所有 agents（Prometheus, Sisyphus, Atlas, Oracle 等）
- 所有 hooks（auto-update, session-recovery 等）
- 所有 tools（ast-grep, lsp, session-manager 等）
- 所有 MCP 集成（Context7, Grep App, Websearch）
- 所有 builtin skills 和 commands

### 移除的功能
- CLI 命令 `omo`
- CLI 相关配置和帮助文档
- 平台二进制文件下载
- npm 独立发布
