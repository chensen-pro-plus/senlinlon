# OpenCode 用户配置指南

## 配置文件

在项目根目录创建或编辑 `opencode.json`：

```json
{
  "claudeKey": "你的Claude API密钥",
  "geminiKey": "你的Gemini API密钥",
  "gptKey": "你的GPT API密钥"
}
```

只需配置你要使用的 Provider 对应的 Key 即可，无需全部配置。

## 可用的 Provider 和模型

| Provider    | 配置项      | 可用模型                                                                     |
| ----------- | ----------- | ---------------------------------------------------------------------------- |
| `my-claude` | `claudeKey` | `claude-sonnet-4-5-thinking`, `claude-opus-4-5-thinking`, `claude-haiku-4-5` |
| `my-gemini` | `geminiKey` | `gemini-3-pro-high`, `gemini-3-flash`                                        |
| `my-gpt`    | `gptKey`    | `gpt-5.2`, `gpt-5.2-codex`                                                   |

## 默认模型

如果不指定模型，默认使用：`my-claude/claude-opus-4-5-thinking`

## 切换模型

在配置中指定 `model` 字段：

```json
{
  "claudeKey": "sk-xxx",
  "model": "my-claude/claude-sonnet-4-5-thinking"
}
```

模型格式为：`provider/model-name`

## 配置示例

### 只使用 Claude

```json
{
  "claudeKey": "sk-your-claude-key"
}
```

### 使用 Gemini 并指定模型

```json
{
  "geminiKey": "your-gemini-key",
  "model": "my-gemini/gemini-3-pro-high"
}
```

### 配置多个 Provider

```json
{
  "claudeKey": "sk-claude-key",
  "geminiKey": "gemini-key",
  "gptKey": "gpt-key",
  "model": "my-gpt/gpt-5.2"
}
```

## 禁用 oh-my-opencode

默认内置 `oh-my-opencode` 插件，限制只能使用白名单内的 Provider（`my-claude`, `my-gemini`, `my-gpt`）。

如需禁用此限制，使用其他 Provider：

```json
{
  "ohMyOpencode": false
}
```

禁用后，可以使用任何 Provider（如官方的 `anthropic`、`openai`、`google` 等）。

## 注意事项

- 默认只有白名单内的三个 Provider（`my-claude`, `my-gemini`, `my-gpt`）可用
- 设置 `ohMyOpencode: false` 可禁用此限制
- API 密钥请妥善保管，不要提交到版本控制
